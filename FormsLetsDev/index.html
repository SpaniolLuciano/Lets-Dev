<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="./styles.css" />

    <title>Página inicial</title>
  </head>

  <body>
    <div                      id="container">
      <h1>Formulário 2ª Edição</h1>
      <h2>
        Seja bem-vindo(a) ao primeiro desafio da sua jornada de aprendizado!
            </h2>     
      <p id="instrucao">
        Preencha corretamente os campos abaixo para ingressar nessa SUPER
        JORNADA com o tim   e Paipe!
      </p>

      <img src="./lets-dev.png" alt="Imagem Let's Dev" />
      <hr />

      <!--Aqui começa os itens agrupados em coluna-->
      <form onsubmit="enviarFormulario()">
        <p id="aviso">
          <strong>ATENÇÃO:</strong> os campos contendo o asterisco (*) são de
          preenchimento obrigatório!
        </p>
        <!-- Aqui começa os inputs de digitação -->
        <div class="row">
          <div class="column-input input-text">
            <label>Nome completo:</label>
            <input
              type="text"
              name="nome"
              placeholder="Digite seu nome aqui"
              required
            />
          </div>
          <div class="column-input">
            
            <label>Idade:</label>
            <input type="number" name="idade" placeholder="Digite sua idade" />
          </div>
        </div>
        <!-- Aqui começa os inputs de seleção -->
        <div class="row">
          <div class="column-input select">
            <label>Ocupação:</label>
            <select name="ocupacao">
              <option>Selecione sua ocupação</option>
              <option>Trabalhados CLT</option>
              <option>Trabalhador PJ</option>
              <option>Autônomo</option>
              <option>Outros</option>
            </select>
          </div>

          <div class="column-input">
            <label>Área de preferência:</label>

            <div class="row" style="gap: 25px">
              <div class="row-selectors">
                <input
                  type="radio"
                  id="front"
                  name="area-preferencia"
                  value="Front-end"
                  checked
                />
                <label for="front">Front-end</label>
                <input
                  type="radio"
                  id="back"
                  name="area-preferencia"
                  value="Back-end"
                />
                <label for="back">Back-end</label>
                <input
                  type="radio"
                  id="full"
                  name="area-preferencia"
                  value="Full-stack"
                />
                <label for="full">Full stack</label>
              </div>
            </div>
          </div>
          <!-- Aqui começa os botões, textarea e checkbox -->
        </div>
        <div class="column-input">
          <label>Anexar currículo:</label>
          <input type="file" name="curriculo" />
        </div>
        <div class="column-input" style="margin-bottom: 30px">
          <label>Descrição do perfil do candidato:</label>
          <textarea
            name="descricao-perfil"
            placeholder="Nos fale um pouco sobre o seu perfil pessoal e profissional..."
          >
          </textarea>
        </div>
        <div class="column-input" style="margin-bottom: 115px">
          <div class="row-selectors">
            <input type="checkbox" name="receber-email" id="receber-email" />
            <label for="receber-email"
              >Desejo receber notificações sobre as vagas por e-mail
            </label>
          </div>
        </div>
        <div class="row" style="justify-content: space-between">
          <button onclick="cancelar()">Cancelar</button>
          <input type="submit" value="Enviar" />
        </div>
      </form>
    </body>
      <script>
        // Função em const, estilo arrow function
        const cancelar = () => {
          // Evita o redirecionamento padrão para outra tela e manda um alert
          event.preventDefault();
          alert("Cancelando...");
        };

        function tagPorNome(nomeTag, isRadioButton) {
          const tag = document.getElementsByName(nomeTag);

          if (isRadioButton) {
            for (let pos = 0; pos < tag.length; pos++) {
              if (tag[pos].checked) return tag[pos];
            }
          } else return tag[0];
        }

        function enviarFormulario() {
          event.preventDefault();

          const nome = tagPorNome("nome")?.value;
          const idade = tagPorNome("idade")?.value;
          const ocupacao = tagPorNome("ocupacao")?.value;
          const areaPreferencia = tagPorNome("area-preferencia", true)?.value;
          const curriculo = tagPorNome("curriculo");
          const descricaoPerfil = tagPorNome("descricao-perfil")?.value;
          const receberEmail = tagPorNome("receber-email")?.value;

          const mensagem = `${nome}, tem ${idade} anos e atualmente é ${ocupacao}. Se ingressar no mundo do desenvolvimento, tem preferência por atuar como ${areaPreferencia}.
     
             Em sua descrição de perfil consta: "${descricaoPerfil}".
     
             Deseja receber e-mail: ${receberEmail ? "Sim" : "Não"}
             Currículo: ${curriculo ? curriculo.files[0].name : "Não informado"}
             `;

          alert(mensagem);
        }
      </script>
    </div>
</html>
